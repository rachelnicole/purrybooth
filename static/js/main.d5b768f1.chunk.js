(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(35)},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),l=a(9),c=a(1),s=(a(21),function(e){var t=e.setStage,a=Object(c.b)({opacity:1,from:{opacity:0}});return r.a.createElement(c.a.div,{style:a,className:"landing-page main-container"},r.a.createElement("p",null,"this is the landing page"),r.a.createElement("p",{onClick:function(){return t("layout")}},"Go to Layout Page"))}),u=(a(22),function(e){var t=e.setStage,a=Object(c.b)({opacity:1,from:{opacity:0}});return r.a.createElement(c.a.div,{style:a,className:"layout-page main-container"},r.a.createElement("p",null,"this is the layout page"),r.a.createElement("p",{onClick:function(){return t("mode")}},"Go to Mode Page"))}),m=(a(23),function(e){var t=e.setStage,a=Object(c.b)({opacity:1,from:{opacity:0}});return r.a.createElement(c.a.div,{style:a,className:"mode-page main-container"},r.a.createElement("p",null,"this is the Mode page"),r.a.createElement("p",{onClick:function(){return t("upload")}},"I want to Upload Photo"),r.a.createElement("p",{onClick:function(){return t("photo")}},"I want to use my Camera"))}),f=a(14),d=a.n(f),p=(a(24),{width:600,height:600}),h=function(e){var t=e.setStage,a=(e.photoTakenEncoded,Object(c.b)({opacity:1,from:{opacity:0}})),n=r.a.useRef(null),i=r.a.useState(null),o=Object(l.a)(i,2),s=o[0],u=o[1],m=r.a.useCallback(function(e){var t=n.current.getScreenshot();u(t),e(t)},[n,u]);return r.a.createElement(c.a.div,{style:a,className:"photo-page main-container"},r.a.createElement("p",null,"this is the Photo page"),r.a.createElement("p",{onClick:function(){return t("decorate")}},"Go to Decorate Page"),r.a.createElement(d.a,{audio:!1,ref:n,videoConstraints:p,screenshotFormat:"image/jpeg"}),r.a.createElement("button",{onClick:m},"Capture photo"),s&&r.a.createElement("img",{src:s,alt:"photobooth snapshot"}))},g=(a(25),a(2)),E=a.n(g),v=a(8),k=a(3),C=a(6),_=a(5),b=a(4),w=function(e){Object(_.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(k.a)(this,n),(r=t.call(this,e)).drawOriginalImage=Object(v.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Image).onload=function(){r.img=t;var e=r.refs.canvas;e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0)},t.src=r.props.photoTaken;case 3:case"end":return e.stop()}},e)})),r.loadWasm=Object(v.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.e(3).then(a.bind(null,36));case 3:t=e.sent,r.wasm=t,r.drawOriginalImage();case 6:return e.prev=6,console.log("loaded wasm successfully"),r.loadedWasm=!0,console.log("this.loadedWasm is",r.loadedWasm),e.finish(6);case 11:case"end":return e.stop()}},e,null,[[0,,6,11]])})),r.alterChannel=function(){var e=Object(v.a)(E.a.mark(function e(t){var a,n,i,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=r.refs.canvas,(n=a.getContext("2d")).drawImage(r.img,0,0),i=r.wasm,o=i.open_image(a,n),i.alter_channel(o,t,50),i.putImageData(a,n,o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.filterPhoto=function(){var e=Object(v.a)(E.a.mark(function e(t){var a,n,i,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=r.refs.canvas,(n=a.getContext("2d")).drawImage(r.img,0,0),i=r.wasm,o=i.open_image(a,n),i.filter(o,t),i.putImageData(a,n,o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.greyScale=Object(v.a)(E.a.mark(function e(){var t,a,n,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.refs.canvas,(a=t.getContext("2d")).drawImage(r.img,0,0),n=r.wasm,i=n.open_image(t,a),n.grayscale(i),n.putImageData(t,a,i);case 7:case"end":return e.stop()}},e)})),r.threeDee=Object(v.a)(E.a.mark(function e(){var t,a,n,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.refs.canvas,(a=t.getContext("2d")).drawImage(r.img,0,0),n=r.wasm,i=n.open_image(t,a),n.offset_red(i,30),n.putImageData(t,a,i);case 7:case"end":return e.stop()}},e)})),r.effectPipeline=Object(v.a)(E.a.mark(function e(){var t,a,n,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.refs.canvas,(a=t.getContext("2d")).drawImage(r.img,0,0),n=r.wasm,i=n.open_image(t,a),console.time("PHOTON_WITH_RAWPIX"),n.alter_channel(i,2,70),n.grayscale(i),console.timeEnd("PHOTON_WITH_RAWPIX"),n.putImageData(t,a,i),console.time("PHOTON_CONSTR"),console.timeEnd("PHOTON_CONSTR");case 12:case"end":return e.stop()}},e)})),r.state={count:0,loadedWasm:!1,isLoaded:!1,wasm:null,img:null},r}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.loadWasm()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"default"},r.a.createElement("div",{class:"sidebar"},r.a.createElement("h3",{class:"logo"},"Photon"),r.a.createElement("ul",null,r.a.createElement("h4",null,"Channels"),r.a.createElement("li",{id:"alter_red",onClick:function(){return e.alterChannel(0)}},"Increase Red Channel"),r.a.createElement("li",{id:"alter_green",onClick:function(){return e.alterChannel(1)}},"Increase Green Channel"),r.a.createElement("li",{id:"alter_blue",onClick:function(){return e.alterChannel(2)}},"Increase Blue Channel"),r.a.createElement("li",{id:"alter_greyscale",onClick:function(){return e.greyScale()}},"GreyScale"),r.a.createElement("li",{id:"alter_threedee",onClick:function(){return e.threeDee()}},"3D Glasses"),r.a.createElement("li",{id:"alter_blue",onClick:this.effectPipeline},"Inc Channel + Threshold"),r.a.createElement("li",{id:"alter_filter_oceanic",onClick:function(){return e.filterPhoto("oceanic")}},"Oceanic"),r.a.createElement("li",{id:"alter_filter_islands",onClick:function(){return e.filterPhoto("islands")}},"Islands"),r.a.createElement("li",{id:"alter_filter_marine",onClick:function(){return e.filterPhoto("marine")}},"Marine"),r.a.createElement("li",{id:"alter_filter_seagreen",onClick:function(){return e.filterPhoto("seagreen")}},"Seagreen"),r.a.createElement("li",{id:"alter_filter_flagblue",onClick:function(){return e.filterPhoto("flagblue")}},"Flag Blue"),r.a.createElement("li",{id:"alter_filter_liquid",onClick:function(){return e.filterPhoto("liquid")}},"Liquid"),r.a.createElement("li",{id:"alter_filter_diamante",onClick:function(){return e.filterPhoto("diamante")}},"Diamante"),r.a.createElement("li",{id:"alter_filter_radio",onClick:function(){return e.filterPhoto("radio")}},"Radio"),r.a.createElement("li",{id:"alter_filter_twenties",onClick:function(){return e.filterPhoto("twenties")}},"Twenties"),r.a.createElement("li",{id:"alter_filter_rosetint",onClick:function(){return e.filterPhoto("rosetint")}},"Rosetint"),r.a.createElement("li",{id:"alter_filter_mauve",onClick:function(){return e.filterPhoto("mauve")}},"Mauve"),r.a.createElement("li",{id:"alter_filter_bluechrome",onClick:function(){return e.filterPhoto("bluechrome")}},"Blue Monochrome"),r.a.createElement("li",{id:"alter_filter_vintage",onClick:function(){return e.filterPhoto("vintage")}},"Vintage"),r.a.createElement("li",{id:"alter_filter_perfume",onClick:function(){return e.filterPhoto("perfume")}},"Perfume"),r.a.createElement("li",{id:"alter_filter_serenity",onClick:function(){return e.filterPhoto("serenity")}},"Serenity"))),r.a.createElement("div",{class:"main"},r.a.createElement("div",{class:"main_content"},r.a.createElement("section",{class:"content"},r.a.createElement("h2",null,"Image"),r.a.createElement("canvas",{ref:"canvas"})),r.a.createElement("section",{class:"benchmarks"},r.a.createElement("div",{id:"time"}),r.a.createElement("div",{id:"code"})))))}}]),n}(r.a.Component),y=function(e){var t=e.setStage,a=e.photoTaken,n=(e.photoTakenEncoded,Object(c.b)({opacity:1,from:{opacity:0}}));return r.a.createElement(c.a.div,{style:n,className:"decorate-page main-container"},r.a.createElement("p",null,"this is the Decorate page"),r.a.createElement("p",{onClick:function(){return t("share")}},"Go to Share Page"),r.a.createElement(w,{photoTaken:a}))},O=(a(27),function(e){e.setStage;var t=Object(c.b)({opacity:1,from:{opacity:0}});return r.a.createElement(c.a.div,{style:t,className:"share-page main-container"},r.a.createElement("p",null,"this is the Share page"),r.a.createElement("p",null,"The end!"))}),P=a(15),I=a.n(P),S=function(e){var t=e.setStage,a=e.photoTakenEncoded,n=Object(c.b)({opacity:1,from:{opacity:0}}),i=r.a.useRef(null),o=r.a.useState(null),s=Object(l.a)(o,2),u=s[0],m=s[1],f=r.a.useCallback(function(e,t){console.log(t),m(t),a(t)},[i,m]);return r.a.createElement(c.a.div,{style:n,className:"upload-page main-container"},u&&r.a.createElement("img",{src:u,alt:"photobooth snapshot"}),r.a.createElement(I.a,{withIcon:!0,onChange:f,singleImage:!0,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880}),r.a.createElement("p",{onClick:function(){return t("decorate")}},"Go to Decorate Page"))},j=function(){var e=r.a.useState("landing"),t=Object(l.a)(e,2),a=t[0],n=t[1],i=r.a.useState(null),o=Object(l.a)(i,2),c=o[0],f=o[1];return r.a.createElement("div",null,r.a.createElement("h1",null,"Photothing"),"landing"===a&&r.a.createElement(s,{setStage:n}),"layout"===a&&r.a.createElement(u,{setStage:n}),"mode"===a&&r.a.createElement(m,{setStage:n}),"upload"===a&&r.a.createElement(S,Object.assign({setStage:n},{photoTakenEncoded:f})),"photo"===a&&r.a.createElement(h,Object.assign({setStage:n},{photoTakenEncoded:f})),"decorate"===a&&r.a.createElement(y,Object.assign({setStage:n},{photoTakenEncoded:f},{photoTaken:c})),"share"===a&&r.a.createElement(O,{setStage:n}))};a(34);o.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.d5b768f1.chunk.js.map